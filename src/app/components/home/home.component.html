<header>
    <div class="navbar navbar-dark bg-dark box-shadow">
        <div class="container d-flex justify-content-between">
            <a href="#" class="navbar-brand d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>
            <strong>MovieGallery</strong>
          </a>
          <div>
            <input key-bind="$event.keyCode == 13 && searcMovie()" class='SearchInput' (keyup)="onInputTextEdit($event,$event.keyCode)" type="text" placeholder="Search for movies..">
             <button type="button" (click)="searchMovie()" class="btn btn-sm btn-outline-secondary search">Search
             </button>
          </div>
        </div>
    </div>
</header>

<main role="main">


    <section class="jumbotron text-center">
        <div class="container heightset">
            <div *ngIf='UserRegistrationService.user | async as user' style="margin-top:20px">
                <img class='profileImage' [src]="user.photoURL">
                <h1 class="jumbotron-heading">Hello {{user.displayName}}</h1>
            </div>
            
            <p>
                <button *ngIf='UserRegistrationService.user | async as user' class="btn btn-primary btn" (click)="logout()">logout</button>

            </p>

            <p>{{searchValue}}</p>
        </div>
    </section>



    <div class="album py-5 bg-light searchresut">
        <div *ngIf= "loading === true "  class="myContainer"> 
            <svg class="lds-spinner" width="50px"  height="50px"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: none;"><g transform="rotate(0 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.4583333333333333s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(30 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(60 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.375s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(90 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(120 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.2916666666666667s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(150 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.25s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(180 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.20833333333333334s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(210 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(240 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.125s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(270 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(300 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="-0.041666666666666664s" repeatCount="indefinite"></animate>
              </rect>
            </g><g transform="rotate(330 50 50)">
              <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#007bff">
                <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="0.5s" begin="0s" repeatCount="indefinite"></animate>
              </rect>
            </g></svg>
        </div>
        <div class="container">
            <h1  class="jumbotron-heading">{{searchResult}}</h1>
            <div  [@listAnimation]='responseData' class="row" >
                <div *ngFor="let movie of responseData; let i = index" class="col-md-3">
                    <div class="card mb-3 box-shadow">
                      <div (click)='onClickedCard(movie)'>
                        <img class="card-img-top" data-src={{movie.Poster}} alt="Card image cap">
                        <div class="card-body">
                            <p class="card-text">{{movie.Title}}</p>
                            
                        </div>
                      </div>
                      <div class="card-body d-flex justify-content-between align-items-center">
                        <div class="btn-group ">
                            <button type="submit" (click)="pushTOMyMovie(movie)" class="btn btn-sm btn-outline-secondary">Add to gallery</button>
                            <!-- <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button> -->
                        </div>
                                                    <small class="text-muted">Year {{movie.Year}}</small>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div class="album py-5 bg-light mygallery">
        <div  *ngIf='UserRegistrationService.user | async as user' class="container">
            <h1 class="jumbotron-heading"> MY GALLERY</h1>
            <div [@listAnimation]="proyectos" class="row">
                <div *ngFor='let mov of (proyectos | async)?.slice().reverse()' class="col-md-3" >
                    <div class="card mb-3 box-shadow" >
                        <div (click)='onClickedCard(mov)'>
                            <img class="card-img-top" data-src={{mov.Poster}} alt="Card image cap">
                            <div class="card-body">
                                <p class="card-text">{{mov.Title}}</p>                                
                            </div>
                        </div>
                        <div class="card-body d-flex justify-content-between align-items-center">
                           <div class="btn-group">
                                <button type="button" (click)="deleteSth(mov.key)" class="btn btn-sm btn-outline-secondary">Remove</button>
                            </div>
                            <small class="text-muted">Year {{mov.Year}}</small>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>


</main>